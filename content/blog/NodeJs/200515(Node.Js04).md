---
title: 'ğŸŒˆ Node.Js-205015-ë…¸ë“œ04ì¼(promise ê³¼ì œ)'
date: 2020-5-14 17:00:00
category: 'Node.Js'
draft: false
---

**ì†”ì§íˆ ë‚˜ëŠ” ì° JSë¥¼ ì“°ëŠ” ëŠë‚Œì„ ë°›ì€ ì ì´ ë³„ë¡œ ì—†ë‹¤.** ê·¸ë„ ê·¸ëŸ´ê²ƒì´, Jsë¥¼ ì‚¬ìš©í•œ ê¸°ê°„ë„ ê¹Šì´ë„ ê·¸ ì°ì„ ì“¸ ì •ë„ì— ë„ë‹¬í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë‹¤.

**í•˜ì§€ë§Œ, ì´ëŸ¬í•œ ë‚˜ë„ ìì£¼ ë“£ëŠ” ê°œë…ë“¤ì´ ìˆì—ˆë‹¤.**

`í”„ë¡œë¯¸ìŠ¤`, `ì•„ì”½í¬`, `ì–´ì›¨ì´íŠ¸`, `ì½œë°±ì§€ì˜¥`,  ê·¸ë¦¬ê³  ëŒ€ë§ì˜ `ë™ê¸°ì™€ ë¹„ë™ê¸°` ì´ ëª¨ë“  ë‚´ìš©ì€ ì£½ê¸° ì „ì— ê¼­ ì •ë¦¬í•´ì•¼ê² ë‹¤. ê·¸ ì¤‘ í•˜ë‚˜ì¸ í”„ë¡œë¯¸ìŠ¤ì˜ ê°„ì ‘ì ì¸ ê°œë…ì„ ì–´ì œ ì¤€ì„ë‹˜ ì„¸ì…˜ì„ ë°›ì•˜ë‹¤. ë¬¼ë¡ , í”„ë¡œë¯¸ìŠ¤ë¥¼ ì„¤ëª…í•˜ë©´ì„œ ì € ìœ„ì˜ ê°œë…ë“¤ì„ ëª¨ë‘ ì„¤ëª…í•´ ì£¼ì—ˆì§€ë§Œ...ğŸ˜­ ì•„ì§ì€ ì–´ë µë‹¤

### ì½œë°±ì§€ì˜¥

í•¨ìˆ˜ì—ì„œ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ëŠ” ê²ƒì„ ëœ»í•œë‹¤.

callbackí•¨ìˆ˜ëŠ” ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì¸ìë¡œ ì‚¬ìš©ë˜ê±°ë‚˜ ì´ë²¤íŠ¸ì— ì˜í•´ í˜¸ì¶œë˜ì–´ì§€ëŠ” í•¨ìˆ˜ë¥¼ ë§í•œë‹¤. ì¦‰ ì–´ë–¤ í•¨ìˆ˜ì˜ ìš”ì²­ì´ ì²˜ë¦¬ë˜ì–´ ë‚˜ì˜¨ ê·¸ ì‘ë‹µ(ê°’)ì„ call backí•˜ì—¬ ë‹¤ìŒ í•¨ìˆ˜ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì„ callbackì´ë¼ ë¶€ë¥¸ë‹¤.

callbackí•¨ìˆ˜ëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‘ì„±ëœ í•¨ìˆ˜ë“¤ì„ ì‚¬ìš©ìì˜ í¸ì˜ì— ë”°ë¥¸ ìˆœì„œë¡œ ë™ê¸°ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.

ë‚´ê°€ ì›í•˜ëŠ” ìˆœì„œëŒ€ë¡œ í•¨ìˆ˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ ìˆœì„œê°€ ì¡°ê¸ˆ ê¸¸ì–´ì§„ë‹¤ë©´ ë„ˆë¬´ ì¥í™©í•œ í•¨ìˆ˜ê°€ ì‘ì„±ë˜ì–´ì§€ê³  ê·¸ê²ƒì´ ë°”ë¡œ ì½œë°±ì§€ì˜¥ì´ë‹¤.

### í”„ë¡œë¯¸ìŠ¤

`promiseëŠ” í•¨ìˆ˜ëŠ” ì•ì„œ ë§í•œ callbackì˜ ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë‚˜ì˜¨ ê°œë…ì´ë‹¤. ì½œë°±ì„ ì˜ˆì¸¡ ê°€ëŠ¥í•œ íŒ¨í„´ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ë©° callbackë‚´ì˜ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ í™œìš©í•´ ì„±ê³µ, ì‹¤íŒ¨, ì˜¤ë¥˜ ë“± ë‹¤ì–‘í•œ ìƒí™©ì— ë”°ë¥¸ í›„ì†ì²˜ë¦¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.`

í”„ë¡œë¯¸ìŠ¤ë¥¼ ì°¾ì•„ë³¸ ë‚´ìš©ì€ ìœ„ì™€ ê°™ì•˜ë‹¤. ìš°ì„  ì •í™•í•œ ê²ƒì€ í”„ë¡œë¯¸ìŠ¤ëŠ” ì½œë°±í•¨ìˆ˜ë¥¼ ëŒ€ì²´í•œ í•¨ìˆ˜ ê°™ë‹¤. ì½œë°±ì§€ì˜¥ì—ì„œ êº¼ë‚´ì£¼ëŠ” ì•½ì†ì„ í•´ì£¼ëŠ” ë³´í—˜ì¸ê°€ ì‹¶ì§€ë§Œ ì•„ë‹ˆë‹¤.

í”„ë¡œë¯¸ìŠ¤ëŠ” ì½œë°±í•¨ìˆ˜ë¥¼ ëŒ€ì²´í•  ë¿ ë§Œ ì•„ë‹ˆë¼, ì½œë°±í•¨ìˆ˜ì˜ ì„±ê³µê³¼ ì‹¤íŒ¨ì— ë”°ë¼ ë˜ ë‹¤ë¥¸ í•¨ìˆ˜ë‚˜ ë¦¬í„´ê°’ì„ ì´ì–´ ë¶™ì¼ ìˆ˜ ìˆë‹¤.



í”„ë¡œë¯¸ìŠ¤ë¥¼ ì„¤ëª…í•´ì£¼ë©´ì„œ ì‘ì„±í•˜ì‹  ì½”ë“œì´ë‹¤. 

```jsx
//1. ìš°ì„  mySetTimeoutì´ë¼ëŠ” ì»¤ìŠ¤í…€ setTimeoutí•¨ìˆ˜ë¥¼ ë§Œë“ ë‹¤.
//2. ì´ ë•Œ, ì¸ìë¡œ í•¨ìˆ˜ì™€, ë”œë ˆì´ ì‹œê°„ì„ ë„£ì–´ì¤€ë‹¤.
//3. í•´ë‹¹ í•¨ìˆ˜ì˜ ë¦¬í„´ì€ new Promise(resolve, reject)ë¥¼ ë„£ì–´ì¤€ë‹¤.
//4. ì¡°ê±´ë¬¸ì„ í†µí•´ ë”œë ˆì´ê°€ ìˆ«ìê°€ ì•„ë‹ë•Œë‘, 0ë³´ë‹¤ ì‘ì„ë•ŒëŠ” ë¦¬ì íŠ¸ë¡œ ì˜¤ë¥˜ë¬¸êµ¬ë¥¼ ë„£ì–´ì¤€ë‹¤.
//5. ì¡°ê±´ë¬¸ì´ ì™„ì„±ë˜ë©´, setTimeout()í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì£¼ê³ , mySetTimeoutì—ì„œ ë°›ì€ í•¨ìˆ˜ì™€ ë”œë ˆì´ ì‹œê°„ì„ ì‹¤í–‰ì‹œì¼œì£¼ê³ , í•¨ìˆ˜ì˜ ê²°ê³¼ëŠ” resolveë¡œ ë°›ì•„ë‚¸ë‹¤.

const mySetTimeout = (fn, delay) => {
  return new Promise((resolve, reject)=>{
    if(Number.isNaN(Number(delay))){
       return reject('ìˆ«ìë„£ì–´ë¼')
       };
    if(delay<0){
      return reject('0ë³´ë‹¤ ì‘ë„¤')
    }
    setTimeout(()=>{
      resolve(fn());
    }, delay)
  })
}

mySetTimeout(()=>{
  return 'ì•ˆë…•'
}, "í•˜")
  .then(result => {
  console.log('1')
  console.log('ê²°ê³¼:', result);
})
  .catch(error => {
  console.log('2')
  console.log('ì—ëŸ¬:', error)
  throw err;
})
  .then(result => {
  console.log('3')
  console.log('í•˜í•˜')
})
.catch(error => {
  console.log('4')
})


// pending = ì•„ì§ ì´ ë¹„ë™ê¸° ê²°ê³¼ë¥¼ ëª¨ë¦„
// fullfiled = ë¹„ë™ê¸°ê°€ ì„±ê³µí–ˆë‹¤.
// rejected =  ë¹„ë™ê¸°ê°€ ì‹¤íŒ¨í–ˆë‹¤.
```

```
const mySetTimeout = (fn, time) => {
  return new Promise((resolve, reject) => {
    if(typeof time !== 'number'){
      return reject('ìˆ«ìê°€ ì•„ë‹™ë‹ˆë‹¤.')
    }
    if(time < 0){
      return reject('0ë³´ë‹¤ ì‘ìŠµë‹ˆë‹¤.')
    }
    setTimeout(()=>{
      resolve(fn())
    }, time)
  }
)}


mySetTimeout(()=>{
  return '01:ì‹œì‘'
},2000)
.then(result => {
  console.log('02:resolve',result)
})
.catch(result => {
  console.log('03:reject',result)
})

```

