---
title: 'ğŸŒˆ Node.Js-205018-ë…¸ë“œ05ì¼(write, read ë³µìŠµ)'
date: 2020-5-18 17:00:00
category: 'Node.Js'
draft: false
---

ìˆ˜ì—…ì—ì„œ ëª©í‘œë¥¼ ì •í™•íˆ í•´ì•¼í•˜ê³  ë¬´ì—‡ì„ ìœ„í•´ ë¬´ì–¸ê°€ë¥¼ í•´ì•¼í•  ì„¤ëª…ì´ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ëŠë‚€ë‹¤.

ë‚˜ëŠ” ì±…ìƒì— ì•‰ì•„ ë§¥ë¶ì„ ì¼œê³  ë°”ì‚ ì¹˜ëŠ” íƒ€ìë¥¼ ë”°ë¼ ì¹˜ëŠ” ìƒí™©ì— ì•„ì§ë„ ì–´ë¦¬ë‘¥ì ˆí•˜ë‹¤.

ìš°ë¦¬ê°€ í•  ê²ƒì€ ë¬´ì—‡ì¸ê°€ë¥¼ ì•Œë ¤ì£¼ê³ , ê·¸ê²ƒì„ ìœ„í•´ í•˜ë‚˜í•˜ë‚˜ ì„¤ëª…ì´ í•„ìš”í•œ ê²ƒ ê°™ì§€ë§Œ í•˜ë‚˜í•˜ë‚˜ ë”°ì ¸ë“¤ë©° ì§•ì§•ê±°ë¦¬ë©´ ëˆ„ê°€ ì†í•´ì¸ê°€ë¥¼ ë¨¼ì € ë”°ì ¸ë³¸ë‹¤ë©´ ë‚˜ë‹¤. ê·¸ë˜ì„œ ê·¸ëƒ¥ .. ë°°ìš´ë‹¤. ğŸ˜”

# ìš°ì„  ì €ë²ˆì£¼ ê¸ˆìš”ì¼ì— í•œ ê²ƒì€ ì•„ë˜ì™€ ê°™ë‹¤.

- í¬ìŠ¤íŠ¸ë§¨ì„ ì´ìš©í•˜ì—¬, ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì„ ì¹˜ê³  Bodyì— ë‚´ìš©ì„ ì‹¤ì–´ Postë¥¼ í•˜ë©´ ì„œë²„ì— Text íŒŒì¼ì´ ìƒê¸´ë‹¤.
  - TextíŒŒì¼ì˜ ì´ë¦„ì€ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì— ì‘ì„±í•œ ë¬¸ìì—´ ì´ë‹¤.
  - ì €ì¥ ê²½ë¡œëŠ” ì„œë²„ì˜ í˜„ì¬ í´ë”ì— ì €ì¥ë˜ì–´ì§„ë‹¤.
- í¬ìŠ¤íŠ¸ë§¨ì„ ì´ìš©í•˜ì—¬, ìƒì„±í•œ íŒŒì¼ì„ Getí•˜ì—¬ ë‚´ìš©ì„ ê°€ì ¸ì˜¨ë‹¤.



# ìœ„ì™€ ê°™ì€ ë‚´ìš©ì„ ì§„í–‰í•˜ë ¤ê³  ì¤€ì„ë‹˜ê»˜ì„œ í•˜ì‹  ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤.

- ì„œë²„ í´ë”ì— `file.js`ë¼ëŠ” ìƒˆë¡œìš´ íŒŒì¼ ìƒì„±

- ê·¸ë¦¬ê³  ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ì„ ì‘ì„± í•˜ì˜€ë‹¤.

  ```jsx
  const fs = require("fs"); //fsë¼ëŠ” ê¸°ë³¸ ëª¨ë“ˆ
  
  const readFile = (path) => {
    return new Promise((resolve, reject) => {
      fs.readFile(path, "utf-8", (err, data) => {
        if (err) {
          return reject(err);
        }
        return resolve(data);
      });
    });
  };
  
  const writeFile = (path, body) => {
    return new Promise((resolve, reject) => {
      fs.writeFile(path, body, "utf-8", (err) => {
        if (err) {
          return reject("ì—ëŸ¬");
        }
        return resolve("ì„±ê³µ");
      });
    });
  };
  
  module.exports = {
    readFile: readFile,
    writeFile,
  };
  
  ```

  íŒŒì¼ì—ì„œëŠ” ì•„ë§ˆë„ ì½ê¸° ëª¨ë“ˆê³¼, ì“°ê¸° ëª¨ë“ˆì„ ë§Œë“œëŠ” ê³³ ê°™ë‹¤. ì—¬ê¸°ì—ì„œ ëª¨ë“ˆë“¤ì„ ë§Œë“¤ê³  exportsí•´ì£¼ê³  ì„œë²„ íŒŒì¼ì—ì„œ ê°€ì ¸ë‹¤ ì“°ëŠ” í˜•ì‹ ê°™ë‹¤... ëˆˆì¹˜ê²Œì„ì²˜ëŸ¼ ë°°ìš°ëŠ” ë…¸ë“œ ìˆ˜ì—… ğŸ˜¢ ë§ëŠ”ì§€ëŠ” ëª¨ë¥´ê² ë‹¤.

  

  ### ìš°ì„  ì‘ì„± ëª¨ë“ˆì¸ `writeFile`ì„ ì‚´í´ë³´ì. 

  - `path`ì™€ `body`ë¼ëŠ” ì¸ìë¥¼ ë°›ëŠ” ëª¨ë“ˆì„ ìƒì„±í•œë‹¤.

  - í•¨ìˆ˜ ëª¨ë“ˆ ë°”ë¡œ ì•„ë˜ì— `new Promise`ë¥¼ í†µí•´ `resolve` `reject` ì—¬ë¶€ë¥¼ í™•ì¸í•œë‹¤.

  - ìš°ë¦¬ê°€ ì›í•˜ëŠ” `fs.writeFile`ì˜ ë‚´ì¥í•¨ìˆ˜ë¥¼ ìƒì„±í•œë‹¤.

  - ì´ ë•Œì— `path`, `body`, `utf-8`, `(err) => {}`í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë„£ì–´ì¤€ë‹¤.

  - ì—¬ê¸°ì„œ ê¶ê¸ˆí•œ ì ì€ `(err) => {}` í•¨ìˆ˜ì´ë‹¤. ë³´ë‹ˆê¹Œ fs.writeFileì˜ 4ë²ˆì§¸ ì¸ìëŠ” ì½œë°± í•¨ìˆ˜ì¸ë°.. ê·¸ë ‡ë‹¤ë©´ ìš°ë¦¬ëŠ” ì—¬ê¸°ì„œ ì„±ê³µ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ê±°ë‹ˆê¹Œ errí™•ì¸í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“ ê±´ê°€? errì€ ë­˜ ì˜ë¯¸í•˜ëŠ”ì§€ ëª¨ë¥´ê² ë‹¤.

    ìš°ì„  ê³µì‹ë¬¸ì„œì—ì„œì˜ writeFileì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤.

    ```
    fs.write(fd, buffer[, offset[, length[, position]]], callback)#
    History
    fd <integer>
    buffer <Buffer> | <TypedArray> | <DataView>
    offset <integer>
    length <integer>
    position <integer>
    callback <Function>
    
    err <Error>
    bytesWritten <integer>
    buffer <Buffer> | <TypedArray> | <DataView>
    ```

    ìŒ... ê³µì‹ë¬¸ì„œë¥¼ ë³´ë‹ˆê¹Œ 4ë²ˆì§¸ ì½œë°±í•¨ìˆ˜ì˜ ì¸ìë¥¼ errì„ ë°›ì„ ìˆ˜ ìˆë‹¤ê³  ë˜ì–´ìˆë‹¤. ì˜¤ì¼€ì´!

  ### ê·¸ë¦¬ê³  ì½ê¸° ëª¨ë“ˆì¸ `readFile`ì„ ì‚´í´ë³´ì.

  ë„ˆë¬´ ìœ„ì— ìˆì–´ ì½ê¸° ëª¨ë“ˆ ì‘ì„± ë‚´ìš©ë§Œ ì´ ê³³ìœ¼ë¡œ ê¸ì–´ì˜¤ê² ìŠµë‹ˆë‹¤.

  ```jsx
  const fs = require("fs"); //fsë¼ëŠ” ê¸°ë³¸ ëª¨ë“ˆ
  
  const readFile = (path) => {
    return new Promise((resolve, reject) => {
      fs.readFile(path, "utf-8", (err, data) => {
        if (err) {
          return reject(err);
        }
        return resolve(data);
      });
    });
  };
  ```

  

  - `path`ì¸ìë§Œ ë°›ëŠ” ëª¨ë“ˆì„ ìƒì„±í•œë‹¤.

  - ì‘ì„± ëª¨ë“ˆê³¼ ê°™ì´ ëª¨ë“ˆ ë°”ë¡œ ì•„ë˜ì— `new Promise`ë¥¼ í†µí•´ `resolve`, `reject` ì—¬ë¶€ë¥¼ í™•ì¸í•œë‹¤.

  - ê·¸ë¦¬ê³  ìš°ë¦¬ê°€ ì›í•˜ëŠ” `fs.redaFile`ì˜ ë‚´ì¥í•¨ìˆ˜ë¥¼ ìƒì„±í•œë‹¤.

  - ì´ ë•Œì— ì¸ìë¡œëŠ” `path`, `utf-8`, `(err,data) => {}`í•¨ìˆ˜ê¹Œì§€ ì¸ìë¡œ ë„£ì–´ì¤€ë‹¤.

  - ê·¸ëŸ¬ë©´ í•œë²ˆ `readFile`ì´ë¼ëŠ” ì¹œêµ¬ë„ ê³µì‹ë¬¸ì„œë¥¼ ë’¤ì ¸ ë³´ì!

    ```
    fs.readFile(path[, options], callback)#
    History
    path <string> | <Buffer> | <URL> | <integer> filename or file descriptor
    options <Object> | <string>
    
    encoding <string> | <null> Default: null
    flag <string> See support of file system flags. Default: 'r'.
    callback <Function>
    
    err <Error>
    data <string> | <Buffer>
    Asynchronously reads the entire contents of a file.
    ```

    dataëŠ” ì•ˆì— ì í˜€ìˆëŠ” ë‚´ìš©ì„ ì½ì–´ì˜¤ëŠ” ê±´ê°€ ì‹¶ë‹¤. ìš°ì„  dataì˜ íƒ€ì…ì€ stringì´ë‹¤.

- ê·¸ë¦¬ê³  ë§¨ë§ˆì§€ë§‰ì— ìš°ë¦¬ê°€ ì‘ì„±í•œ ëª¨ë“ˆì„ ì•„ë˜ì™€ ê°™ì´ exportsì‹œì¼œì¤€ë‹¤!

  ```jsx
  module.exports = {
    readFile: readFile,
    writeFile,
  };
  ```

  ì¼ë¶€ëŸ¬ 2ê°€ì§€ ë‚´ìš©ìœ¼ë¡œ ì ì–´ë†“ì•˜ë‹¤.

- ### ì´ì œëŠ” `App.js` íŒŒì¼ì— ë„£ì–´ë³´ì 

