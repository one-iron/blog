---
title: '🕰 작업물들-프로젝트07-롤렉스'
date: 2020-5-1 23:21:13
category: '작업물들'
draft: false
---

- # 현재 작성 중에 있는 포스트 입니당 데헷 에콩 머쓱머쓱머쓱타드

- 콘솔로그 쓰면 지우자

- 오류나 경고는 해결 하자

- 수정이 빈번한 영역의 이미지나 텍스트는 스테이트로 설정

- 매일 타이포라를 열어 모든 오류와 해결법을 적는 습관을 들이자

- 이벤트가 일어나는 곳, 이벤트로 인해 변경 되는 곳 이 2가지가 공통으로 있는 상위 컴포넌트를 파악해야한다.

- config 활용 방법

- setstate에서 인자를 이용하여 이전state값 불러오기

- didupdate willupdate 확인하자

- 

---

# 위코드 1차 프로젝트 롤렉스 과정

- 기간 : 9일간 (4월23일 ~ 5월1일)
- 목표 : [롤렉스 공식 홈페이지](https://www.rolex.com/ko)
  - 메인페이지, 로그인/회원가입 페이지, 설정하기 페이지, 모두보기 페이지, 시계 상세 페이지

- 인원 : 백엔(정인님, 희진님, 예은님) / 프엔(지희님, 민석님 원철님)

- **담당 : 모두보기 페이지, 네브 컴포넌트, 시계 상세페이지**

- 여담 : 원래는 [비마이펫](https://mypetlife.co.kr/map/)이라는 애견동반가능 정보제공을 해주는 곳을 클론할 예정이였지만, 4일 진행중 백엔 클론 중 이상하게 시간이 오래 걸리는 상황과 프엔도 4일만에 대략적인 스타일링이 완료되었었다.😅 그만큼 서버가 불안하고, 그만큼 디자인이 간단하다는 반증이기도 했었다. 하지만 4일차 때, **위워크 와이파이 아이피가 간헐적으로 차단**되었다.☹️ 첫 차단에는 1~2시간 뒤에 다시 접속이 가능했고, 다시 접속이 가능해지다가 다시 차단이 되어었다.😤 그렇게 백엔과 프엔은 상의 끝에 새로운 홈페이지를 클론하기로 결정하였고 **5일차에 새롭게 롤렉스 공식 홈페이지 클론을 시작**했다. 사실 해당페이지는 덧글 기능도, 좋아요 기능도 작동이 제대로 되지 않고 있었고 이 외에도 수많은 문제가 있었다.



## 1. 🗺 모두보기 페이지

**이미지 추가!!!**

모두보기 페이지는 롤렉스에 있는 모든 시계를 진열한 게시판 형태의 페이지이다. 주요 기능은 진열, 필터링이 있다.

- ### 진열 기능

  - **상품 진열 기능(FindRolex / ProductList / ProductCard)**

    **이미지추가!!!**

    - **FindRolex component**에서 fetch함수를 통해 전체 시계에 대한 정보를 해당 state배열에 저장하였다. 그리고 ProductList에 props로 전달 하였다.

    - **ProductList component**에서는 전체 시계들이 담길 레이아웃을 그리드로 디자인하였다. 또한 해당 정보를 map함수를 통해 받아온 시계정보들을 ProductCard component에 전달 하였다. (하나하나가 담길 큰틀 디자인)

    - **ProductCard component**에서는 받아온 시계정보들을 통해 각 정보들을 배열하고 디자인을 하였다. (하나하나의 디자인)

  

  - **토글 레이아웃 변경 기능(FindRolex / ProductLsit / GridChange)**

    **이미지 추가!!!**

    토글 레이아웃 변경 기능은 상품 진열 레이아웃을 3 x 7에서 2 x 10으로 변경해주는 토글이다.

    - **ProductList component**에서 state값으로 토글 클릭 boolean을 설정한다. 또한, 해당 state를 true 혹은 false로 변경해주는 toggleChange함수를 만들어주었다. 이 2가지를 GridChange라는 하위 component에 props로 전달 하였다.

    - **GridChange component**는 토글이 위치한 componet이다. 이 곳에서는 토글을 만들어 놓고, 토글이 클릭되는 것을 감지한다. 그래서 상위 컴포넌트인 ProductList에서 해당 state값과 함수를 props로 받아온 것이다. 여기에 위치한 토글에 onClick이벤트를 걸어놓고 함수를 실행시키면 상위컴포넌트에 있는 state값이 변경되어진다.그 다음에는 2가지 Grid 레이아웃을 변경될 div의 className을 ProductList Component에서 해당 state값을 바라보게 한다. 그리고 변경될 2가지의 Grid 레이아웃을 scss에서 class로 만들어 놓았다.

    

- ### 필터링 기능

  - #### 선택된 카테고리 데이터를 백엔드 쿼리스트링으로 가져오기(FindRolex / FilterCenter / CategoryIcon)
  
    **이미지 추가!!!**
  
    **FindRolex component**에서 이미 componentDidMount로 불러온 전체 항목이 있다. 그러므로 해당 카테고리를 클릭하면 queryString에 사용하게될 state를 새롭게 만들어 놓고, 해당 state를 setState할 인자가 담긴 함수를 만들었다. 그리고 setState가 발생할 경우 componentDidUpdate로  변경된 state값으로 새롭게 queryString을 만드는 함수도 만들었다.
  
    그리고 첫번째 함수 즉 setState를 하는 함수만 하위 컴포넌트인 FilterCenter로 전달하였다.
  
    **FilterCenter**에서는 카테고리별 중복 선택을 위해 나누어진 컴포넌트로 props로 받은 함수를 각각 또 전달하였다. 이 때, map함수로 돌릴 때 받아올 상품의 product_id를 받아올 수 있게 해당 인자를 넣었다.
  
    **CategoryIcon**에서는 전달받은 함수를 onClick에 넣어주었다.
  
    
  
  - #### 선택된 카테고리의 className을 변경하기(FilterCenter / CategoryIcon)
  
    **이미지 추가!!!**
  
    **FilterCenterd**에서는 카테고리를 나타내는 아이콘들을 담을 큰 틀을 스타일링 해주고 있다. 
  
    우선 fetch함수를 통해 카테고리 이름과 아이콘 이미지들을 받아 state 하나의 값을 만들어 배열로 저장해주었다. 또한 클릭을 했을 시 해당 카테고리가 클릭이 되었는지를 알 수 있는 state도 만들어 주었다.
  
    그리고 해당 배열을 map함수를 이용하여 배열에 담긴 요소 만큼 해당 정보 값을 뿌려 주었다. 여기에서는 카테고리 군이 2가지여서 2개의 map함수를 만들어주었다. 그래야지만 2가지의 카테고리를 중복선택 할 수 있다.(크기와 재료라는 2가지 카테고리 군을 만들어 주었다. 예를들어, 36mm의 옐로우골드를 선택할 수 있게 해준 것 이다.)
  
    뿐만 아니라, 선택을 했는지 알 수 있는 state를 만들었으니 클릭을 했을 경우 해당 value값을 얻어와 setState를 하는 함수를 만들어 전달하였다.
  
    그리고 맵으로 뿌리는 컴포너트 props값에 선택된 state값과 해당 요소의 value값이 같은지를 확인하는 Boolean형태의 props를 전달하였다.
  
    **CategoryIcon**에서는 각 카테고리의 내용이 담겨진 곳이다. 여기에서는 전달받은 함수를 onClick에 추가하였고, 누르면 해당 value값이 상위 컴포넌트로 전달되고 setState가 발생하며 Boolean값이 전해지면 className을 변경되게 하였다.
  
    state값이 같아 true일 때의 scss의 디자인과, false일 때의 scss디자인을 만들어 놓았기 때문에 클릭에 반응하는 디자인이 탄생되었다.
  
    

## 2. 🧭 네브 컴포넌트

### 네브 컴포넌트 자체

- 스크롤 위치에 따른 변화
  - 탑에 있을 때
  - 스크롤이 내려갈 때
  - 스크롤이 올라갈 때
- 모달 기능

---

### 네브 컴포넌트 메뉴 모달

- 슬라이드 이미지
- 링크 연결

---

### 네브 컴포넌트 셀렉션 모달

- 좋아요 기능



## 공통 부분

- Routes 이용
- Config 이용
- Img 이용
- Components 재사용
- Fetch 이용